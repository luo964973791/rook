### rook-ceph1.3稳定版镜像请先提前下载.

```javascript
docker pull quay.io/cephcsi/cephcsi:v2.1.2
docker pull quay.io/k8scsi/csi-node-driver-registrar:v1.2.0
docker pull quay.io/k8scsi/csi-resizer:v0.4.0
docker pull quay.io/k8scsi/csi-provisioner:v1.4.0
docker pull quay.io/k8scsi/csi-snapshotter:v1.2.2
docker pull quay.io/k8scsi/csi-attacher:v2.1.0
docker pull rook/ceph:v1.3.6
docker pull ceph/ceph:v14.2.9
```



```javascript
git clone https://github.com/luo964973791/rook.git
cd rook/cluster/examples/kubernetes/ceph
kubectl create -f common.yaml
kubectl create -f operator.yaml

#注意需要更改cluster.yaml里面的磁盘信息
kubectl create -f cluster.yaml
kubectl create -f toolbox.yaml
```

### cephfs安装

```javascript
cd rook/cluster/examples/kubernetes/ceph
kubectl create -f filesystem.yaml
cd rook/cluster/examples/kubernetes/ceph/csi/cephfs
kubectl create -f storageclass.yaml
kubectl create -f pvc.yaml
kubectl create -f pod.yaml
```

### 部署ceph客户端

```javascript
kubectl apply -f dashboard-external-https.yaml
#获取端口
kubectl get svc --all-namespaces
#账号.
admin
#登录密码
kubectl -n rook-ceph get secret rook-ceph-dashboard-password -o jsonpath="{['data']['password']}" | base64 --decode && echo
```

